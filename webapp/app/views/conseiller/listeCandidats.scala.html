@import java.time.format.DateTimeFormatter

@import conf.WebAppConfig
@import fr.poleemploi.perspectives.projections.candidat.CandidatsPourConseillerQueryResult

@(resultat: CandidatsPourConseillerQueryResult,
        nbCandidatsParPage: Int)(implicit flash: Flash, assetsFinder: AssetsFinder, webAppConfig: WebAppConfig)

@layout() {
<div id="listeCandidats">
    <div ref="candidats">
        @partials.candidats(resultat)
    </div>
    <pagination ref="pagination"
                v-bind:nb-par-page="@nbCandidatsParPage"
                v-on:charger-page-suivante="chargerPageSuivante"
                v-on:charger-page-precedente="chargerPagePrecedente"
                v-bind:pages-initiales="[@resultat.pages.map(d => s"'${DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(d)}'").mkString(",")]"></pagination>
</div>

<script src="@assetsFinder.path("javascripts/modules/pagination.js")" type="text/javascript"></script>
<script src="@assetsFinder.path("javascripts/pages/conseiller/listeCandidats.js")" type="text/javascript"></script>
}
