@import java.time.ZonedDateTime
@import java.time.format.DateTimeFormatter

@import conf.WebAppConfig
@import fr.poleemploi.perspectives.projections.candidat.CandidatPourConseillerDto

@(candidats: List[CandidatPourConseillerDto],
        avantDateInscription: ZonedDateTime,
        nbCandidatsParPage: Int)(implicit flash: Flash, assetsFinder: AssetsFinder, webAppConfig: WebAppConfig)

@layout() {
<div id="listeCandidats">
    <div id="js-listeResultats">
        @partials.candidats(candidats, nbCandidatsParPage)
    </div>
    <pagination pagination-base-url="@controllers.conseiller.routes.ConseillerController.listeCandidats()"
                critere-premiere-page="@DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(avantDateInscription)"
                critere-premiere-page-suivante="@candidats.reverse.headOption.map(_.dateInscription).map(DateTimeFormatter.ISO_OFFSET_DATE_TIME.format)"></pagination>
</div>

<script src="@assetsFinder.path("javascripts/modules/pagination.js")" type="text/javascript"></script>
<script src="@assetsFinder.path("javascripts/pages/conseiller/listeCandidats.js")" type="text/javascript"></script>
}
