@import java.time.ZonedDateTime
@import java.time.format.DateTimeFormatter

@import conf.WebAppConfig
@import fr.poleemploi.perspectives.projections.candidat.CandidatPourConseillerDto

@(candidats: List[CandidatPourConseillerDto],
        avantDateInscription: ZonedDateTime,
        nbCandidatsParPage: Int)(implicit flash: Flash, webAppConfig: WebAppConfig)

@layout() {
<div id="listeCandidats">
    <div id="js-listeResultats">
        @partials.candidats(candidats, nbCandidatsParPage)
    </div>
    <pagination pagination-base-url="/conseiller/candidats"
                critere-premiere-page="@DateTimeFormatter.ISO_ZONED_DATE_TIME.format(avantDateInscription)"
                critere-premiere-page-suivante="@candidats.reverse.headOption.map(_.dateInscription).map(DateTimeFormatter.ISO_ZONED_DATE_TIME.format)"></pagination>
</div>

<script src="@routes.Assets.versioned("javascripts/modules/pagination.js")" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/pages/conseiller/listeCandidats.js")" type="text/javascript"></script>
}
