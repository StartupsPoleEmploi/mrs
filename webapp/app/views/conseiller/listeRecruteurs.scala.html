@import java.time.ZonedDateTime
@import java.time.format.DateTimeFormatter

@import conf.WebAppConfig
@import fr.poleemploi.perspectives.projections.recruteur.RecruteurPourConseillerDto

@(recruteurs: List[RecruteurPourConseillerDto],
        avantDateInscription: ZonedDateTime,
        nbRecruteursParPage: Int)(implicit flash: Flash, webAppConfig: WebAppConfig)

@layout() {
<div id="listeRecruteurs">
    <div id="js-listeResultats">
        @partials.recruteurs(recruteurs, nbRecruteursParPage)
    </div>
    <pagination pagination-base-url="@controllers.conseiller.routes.ConseillerController.listeRecruteurs()"
                critere-premiere-page="@DateTimeFormatter.ISO_ZONED_DATE_TIME.format(avantDateInscription)"
                critere-premiere-page-suivante="@recruteurs.reverse.headOption.map(_.dateInscription).map(DateTimeFormatter.ISO_ZONED_DATE_TIME.format)"></pagination>
</div>

<script src="@routes.Assets.versioned("javascripts/modules/pagination.js")" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/pages/conseiller/listeRecruteurs.js")" type="text/javascript"></script>
}
