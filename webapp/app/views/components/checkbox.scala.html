@(form: Form[_],
        name: String,
        value: String,
        label: String,
        slotLabel: Option[Html] = None,
        checkboxClasses: List[String] = Nil,
        labelClasses: List[String]= Nil)

@containsValue = @{
    if (form(name).indexes.flatMap(i => form(s"$name[%s]".format(i)).value).toSet.contains(value)) "checked" else ""
}

<input id="@name-@value"
        name="@(s"$name[]")" class="checkbox-input"
        type="checkbox" value="@value" @containsValue />
<label class="checkbox @labelClasses.mkString(" ")" for="@name-@value">
    <span class="checkbox-checkmark @checkboxClasses.mkString(" ")"></span>
    @label
    @slotLabel
</label>